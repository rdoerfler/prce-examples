<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PRCE Audio Examples</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --gap: 40px; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: var(--gap); background: #fafafa; color: #222; }
    h1 { margin-top: 0; }
    h2 { margin-top: var(--gap); }
    table { border-collapse: collapse; width: 100%; margin-bottom: var(--gap); background: #fff; }
    th, td { border: 1px solid #ddd; padding: 8px 10px; text-align: center; }
    th { background: #f1f1f1; }
    audio { width: 240px; }
    .note { color: #555; margin: 6px 0 var(--gap); }
  </style>
</head>
<body>
  <h1>PRCE Audio Examples</h1>
  <p class="note">Layout: <strong>Dataset</strong> | <strong>Target</strong> | <strong>HPN</strong> | <strong>PTR</strong></p>

  <div id="tables"></div>

  <script>
    const DATASETS = ["A", "B", "C"];
    const NUM = 14;

    const path = (model, dataset, group, i) =>
      `audiofiles/${model}/${dataset}/test_inference/${group}/${group}_${String(i).padStart(2, "0")}.mp3`;

    function audioEl(src) {
      const a = document.createElement("audio");
      a.controls = true;
      a.preload = "none";
      a.src = src;
      return a;
    }

    function tableFor(dataset) {
      const wrap = document.createElement("section");
      const h = document.createElement("h2");
      h.textContent = `Dataset ${dataset}`;
      wrap.appendChild(h);

      const table = document.createElement("table");
      const head = document.createElement("tr");
      ["Example", "Target", "HPN", "PTR"].forEach(t => {
        const th = document.createElement("th");
        th.textContent = t;
        head.appendChild(th);
      });
      table.appendChild(head);

      for (let i = 1; i <= NUM; i++) {
        const tr = document.createElement("tr");

        const tdLabel = document.createElement("td");
        tdLabel.textContent = `Example ${i}`;
        tr.appendChild(tdLabel);

        // Target from HPN folder
        const tdTarget = document.createElement("td");
        tdTarget.appendChild(audioEl(path("HPN_model", dataset, "targets", i)));
        tr.appendChild(tdTarget);

        // HPN prediction
        const tdHPN = document.createElement("td");
        tdHPN.appendChild(audioEl(path("HPN_model", dataset, "predictions", i)));
        tr.appendChild(tdHPN);

        // PTR prediction
        const tdPTR = document.createElement("td");
        tdPTR.appendChild(audioEl(path("PTR_model", dataset, "predictions", i)));
        tr.appendChild(tdPTR);

        table.appendChild(tr);
      }

      wrap.appendChild(table);
      return wrap;
    }

    const container = document.getElementById("tables");
    DATASETS.forEach(ds => container.appendChild(tableFor(ds)));
  </script>
</body>
</html>